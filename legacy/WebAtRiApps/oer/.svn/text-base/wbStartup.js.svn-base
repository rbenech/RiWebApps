/*jslint devel: true, browser: true, continue: true, windows: false, vars: true, evil: true, white: true, nomen: true, plusplus: true, maxerr: 50, indent: 4 */
/*globals ri*/ //for jslint

/**-----------------------------------------------------------------------------------------
  wbStartup.js
  This is the whiteboard application startup and initialization code.
  This should be listed last in the list of includes.
  12/28/2011 oer
  ------------------------------------------------------------------------------------------
*/

var ri = ri || {}; //namespace for the ri module


/**Initialize this application.
 * Called by onLoad and by html 'init' button. 
 * */
function doInit() {
  "use strict"; //enable javascript strict mode
  ri.smparse.doInit(); //initialize SM parse and webserver communications.
  ri.widgets.doInit(); //initialize widgets
}

/**Opens a new tab/window
 * url: can be blank
 * tabName: name for the new window
 * features: settings for the new window. e.g. "status=1,toolbar=1"
 *     status  The status bar at the bottom of the window.
 *     toolbar The standard browser toolbar, with buttons such as Back and Forward.
 *     location  The Location entry field where you enter the URL.
 *     menubar The menu bar of the window
 *     directories The standard browser directory buttons, such as What's New and What's Cool
 *     resizable Allow/Disallow the user to resize the window.
 *     scrollbars  Enable the scrollbars if the document is bigger than the window
 *     height  Specifies the height of the window in pixels. (example: height='350')
 *     width Specifies the width of the window in pixels.
 * */
function openNewTab(url, tabName, features) {
  "use strict"; //enable javascript strict mode
  window.open(url, tabName, features);
}


/**SAMPLE CODE. Called from html button: Initiate a "remote browser" session*/
function doRemoteBrowse() {
  "use strict"; //enable javascript strict mode
  //Note: smdst=00000000, smsrc=G8ZLJ3CAB45PE300, msgid=1?, src=G8ZLJ3CA
  ri.ajax.smPoll('%1ccode%1csubscribe%1ctopic=browser%1dview=browser%1dlibrary=GF10RC2A.093%1cG8ZLJ3CAB45PE309%1cbrowser'); 
};


/**ON LOAD*/
window.onload=doInit; 
